USE gedcocanne;
GO

IF NOT EXISTS (SELECT * FROM sys.tables WHERE name = 'F_PESEE')
BEGIN
    CREATE TABLE F_PESEE (
        ID INT IDENTITY(1,1) PRIMARY KEY, -- Colonne identifiant auto-incr�ment�
        VE_CODE NVARCHAR(50) NOT NULL,
        PS_POIDSP1 DECIMAL(10, 2) NOT NULL,
        PS_POIDSP2 DECIMAL(10, 2) NULL,
        PR_CODE INT NOT NULL DEFAULT 01, -- Valeur par d�faut pour PR_CODE
        PS_POIDSTare DECIMAL(10, 2) NULL, -- peut �tre null
        DATEHEUREP1 DATETIME NOT NULL,
        TECH_COUPE NVARCHAR(50) NOT NULL,
        PS_CODE NVARCHAR(50) NOT NULL  -- Ajout du champ PS_CODE
    );
END
GO

-- Insertion des donn�es
INSERT INTO F_PESEE (VE_CODE, PS_POIDSP1, PS_POIDSP2, PS_POIDSTare, DATEHEUREP1, TECH_COUPE, PS_CODE)
VALUES 
    ('xx1', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 10:30:00', 120), 'RV', 'P1'),
    ('xx2', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 11:15:00', 120), 'MV', 'P2'),
    ('xx3', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 09:45:00', 120), 'RV', 'P3'),
    ('xx4', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 12:00:00', 120), 'MV', 'P4'),
    ('xx5', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 14:30:00', 120), 'RV', 'P5'),
    ('xx6', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 08:20:00', 120), 'RV', 'P6'),
    ('xx7', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 13:15:00', 120), 'MV', 'P7'),
    ('xx8', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 07:45:00', 120), 'RV', 'P8'),
    ('xx9', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 15:00:00', 120), 'MV', 'P9'),
    ('xx10', 10.00, 5.00, 10.00, CONVERT(DATETIME, '2025-10-20 16:45:00', 120), 'RV', 'P10');
GO
